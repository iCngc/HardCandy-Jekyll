---
layout: post
title: "基本数据结构-数组"
date: 2018-01-14
author: 进击的数据
color: rgb(255,210,32)
cover: '../assets/数据结构与算法.jpg'
tags: 数据结构 算法
---
# 基本数据结构-数组
数组不仅仅是一种编程语言中的<font color=red>数据类型</font>,还是一种最基本的<font color=red>数据结构</font>。

## 如何实现随机访问
**数组(Array)是一种线性表数据结构。它使用一组<font color=red>连续的</font>内存空间，来存储一组具有相同类型的数据。**

**线性表(Linear List)**:线性表就是数据排成像一条线一样的结构，每个线性表上的数据最多只有前和后两个方向。数组、链表、队列、栈等也是线性表结构
![线性表](https://lh3.googleusercontent.com/-JXcJrvOxZHU/XDx_45eDuOI/AAAAAAAAAFQ/n9rBIU_XscMUAgmlbJsvvdXakJqBwawYQCHMYCw/I/15474687699957.jpg)

**非线性表**: 非线性表中，数据之间并不是简单的前后关系。二叉树、堆、图等都是非线性表结构
![非线性表](https://lh3.googleusercontent.com/-kFpyhtHxqNg/XDx_-e87qMI/AAAAAAAAAFU/bWtFiSAvmW83MYrcJUReCCB9pm88FfpbwCHMYCw/I/15474687922603.jpg)

**连续的内存空间和相同类型的数据**: 这两个限制使得数组可以<font color=red>随机访问</font>，也使得很多操作变得很低效，比如删除、插入一个数据，为了保证数据连续性，需要做大量的数据搬移工作。

**如何实现根据下标随机访问数组元素**？
寻址公式：
```java
a[i]_address = base_address + i * data_type_size
```
base_address:内存块的首地址 data_type_size:表示数组中每个元素的大小

**数组和链表的区别**:链表适合插入、删除，时间复杂度O(1)；数组支持随机访问，根据下标随机访问的时间复杂度为O(1)

**低效的“插入”和“删除”**
数组为了保持内存数据的连续性，每次插入或删除之后移动数据，这就导致了插入、删除比较低效。
**插入**: 队尾插入O(1),开头插入O(n)，平均时间复杂度O(n)
**删除**: 队尾删除O(1)，开头删除O(n)，平均时间复杂度O(n)
如果每次删除时记录下已经删除的数据，但每次删除都不是真正的搬移数据，只是记录数据已经被删除。当数组中没有更多空间存储数据时，再触发执行一次真正的删除操作，这样就大大减少了删除操作导致的数据搬移。

## 警惕数组的访问越界问题
访问数组的本质是访问一段连续的内存空间只有数组能够通过偏移计算得到的内存地址是可用的，那么程序就可能不会报任何错误。

## 容器与数组比较
对于业务开发，直接使用容器就足够了，省时省力，只是损耗一点点性能，完全不会影响系统整体的性能
对于非常底层的开发，比如开发网络框架，性能的优化需要做到极致，这个时候就会优于容器，成为首选。

## 总结
数组是最基础、最简单的数据结构。数组用一块连续的内存空间，来存储相同类型的一组数据，最大的特点就是支持随机访问，但是插入、删除操作也因此变得比较低效，平均情况时间复杂度为O(n)，在平时的业务开发中，我们可以直接使用编程语言提供的容器类，但是如果是特别底层的开发，直接使用数组更为合适。

